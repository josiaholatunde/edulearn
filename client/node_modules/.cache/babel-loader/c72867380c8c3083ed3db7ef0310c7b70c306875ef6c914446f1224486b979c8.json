{"ast":null,"code":"var _jsxFileName = \"/Users/oogunboyejo/Documents/uol/project_app/edulearn/client/src/components/QRCodeScanner.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { showNotification } from '../utils/showNotification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QRCodeScanner = ({\n  handleUpdateUVC\n}) => {\n  _s();\n  const [isMounted, setIsMounted] = useState(false);\n  let html5QrcodeScanner;\n  const onScanSuccess = (decodedText, decodedResult) => {\n    // Handle on success condition with the decoded text or result.\n    console.log(`Scan result: ${decodedText}`, decodedResult);\n    handleUpdateUVC(decodedText);\n  };\n  const onScanError = errorMessage => {\n    // Handle on error condition, with error message\n  };\n  useEffect(() => {\n    var _html5QrcodeScanner;\n    setIsMounted(true);\n    if (!((_html5QrcodeScanner = html5QrcodeScanner) !== null && _html5QrcodeScanner !== void 0 && _html5QrcodeScanner.getState())) {\n      html5QrcodeScanner = new window.Html5QrcodeScanner(\"reader\", {\n        fps: 10,\n        qrbox: 250\n      });\n      html5QrcodeScanner.clear();\n      // Render the scanner\n      html5QrcodeScanner.render(onScanSuccess, onScanError);\n    }\n\n    // Cleanup function\n    return () => {\n      html5QrcodeScanner.clear();\n      setIsMounted(false);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '500px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"reader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(QRCodeScanner, \"h7njlszr1nxUzrk46zHyBTBrvgI=\");\n_c = QRCodeScanner;\nexport default QRCodeScanner;\nvar _c;\n$RefreshReg$(_c, \"QRCodeScanner\");","map":{"version":3,"names":["React","useEffect","useState","showNotification","jsxDEV","_jsxDEV","QRCodeScanner","handleUpdateUVC","_s","isMounted","setIsMounted","html5QrcodeScanner","onScanSuccess","decodedText","decodedResult","console","log","onScanError","errorMessage","_html5QrcodeScanner","getState","window","Html5QrcodeScanner","fps","qrbox","clear","render","style","width","children","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/oogunboyejo/Documents/uol/project_app/edulearn/client/src/components/QRCodeScanner.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { showNotification } from '../utils/showNotification';\n\nconst QRCodeScanner = ({ handleUpdateUVC }) => {\n    const [isMounted, setIsMounted] = useState(false);\n\n    let  html5QrcodeScanner;\n\n  const onScanSuccess = (decodedText, decodedResult) => {\n    // Handle on success condition with the decoded text or result.\n    console.log(`Scan result: ${decodedText}`, decodedResult);\n    \n    handleUpdateUVC(decodedText);\n  };\n\n  const onScanError = (errorMessage) => {\n    // Handle on error condition, with error message\n  };\n\n  useEffect(() => {\n    setIsMounted(true)\n    \n    if (!html5QrcodeScanner?.getState()) {\n        html5QrcodeScanner = new window.Html5QrcodeScanner(\n            \"reader\",\n            { fps: 10, qrbox: 250 }\n          );\n          html5QrcodeScanner.clear();\n          // Render the scanner\n          html5QrcodeScanner.render(onScanSuccess, onScanError);\n    }\n     \n\n    // Cleanup function\n    return () => {\n      html5QrcodeScanner.clear();\n      setIsMounted(false)\n    };\n  }, []);\n\n  return (\n    <div style={{ width: '500px' }}>\n      <div id=\"reader\"></div>\n    </div>\n  );\n};\n\nexport default QRCodeScanner;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,gBAAgB,QAAQ,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7D,MAAMC,aAAa,GAAGA,CAAC;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAEjD,IAAKS,kBAAkB;EAEzB,MAAMC,aAAa,GAAGA,CAACC,WAAW,EAAEC,aAAa,KAAK;IACpD;IACAC,OAAO,CAACC,GAAG,CAAE,gBAAeH,WAAY,EAAC,EAAEC,aAAa,CAAC;IAEzDP,eAAe,CAACM,WAAW,CAAC;EAC9B,CAAC;EAED,MAAMI,WAAW,GAAIC,YAAY,IAAK;IACpC;EAAA,CACD;EAEDjB,SAAS,CAAC,MAAM;IAAA,IAAAkB,mBAAA;IACdT,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI,GAAAS,mBAAA,GAACR,kBAAkB,cAAAQ,mBAAA,eAAlBA,mBAAA,CAAoBC,QAAQ,CAAC,CAAC,GAAE;MACjCT,kBAAkB,GAAG,IAAIU,MAAM,CAACC,kBAAkB,CAC9C,QAAQ,EACR;QAAEC,GAAG,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAI,CACxB,CAAC;MACDb,kBAAkB,CAACc,KAAK,CAAC,CAAC;MAC1B;MACAd,kBAAkB,CAACe,MAAM,CAACd,aAAa,EAAEK,WAAW,CAAC;IAC3D;;IAGA;IACA,OAAO,MAAM;MACXN,kBAAkB,CAACc,KAAK,CAAC,CAAC;MAC1Bf,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEL,OAAA;IAAKsB,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAQ,CAAE;IAAAC,QAAA,eAC7BxB,OAAA;MAAKyB,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpB,CAAC;AAEV,CAAC;AAAC1B,EAAA,CA1CIF,aAAa;AAAA6B,EAAA,GAAb7B,aAAa;AA4CnB,eAAeA,aAAa;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}