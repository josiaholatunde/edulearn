{"ast":null,"code":"import axios from 'axios';\nimport history from './history';\nimport { logOutUserOnTokenExpiration } from '../redux/actions/authedActions';\nimport { showNotification } from './showNotification';\nlet apiBaseUri = process.env.REACT_APP_API_BASE_URL;\nconst axiosDefaultInstance = axios.create({\n  baseURL: apiBaseUri,\n  timeout: 10000,\n  headers: {\n    'Access-Control-Allow-Origin': '*',\n    'Content-Type': 'application/json'\n  },\n  withCredentials: true\n});\naxiosDefaultInstance.interceptors.response.use(response => {\n  return response;\n}, function (error) {\n  if (error.response && error.response.status === 403) {\n    const message = 'Token expired';\n    showNotification('danger', message);\n    history.push({\n      pathname: '/login',\n      state: history.location\n    });\n    logOutUserOnTokenExpiration();\n  }\n  return Promise.reject(error);\n});\nexport default axiosDefaultInstance;","map":{"version":3,"names":["axios","history","logOutUserOnTokenExpiration","showNotification","apiBaseUri","process","env","REACT_APP_API_BASE_URL","axiosDefaultInstance","create","baseURL","timeout","headers","withCredentials","interceptors","response","use","error","status","message","push","pathname","state","location","Promise","reject"],"sources":["/Users/oogunboyejo/Documents/uol/project_app/edulearn/client/src/utils/axiosConfig.js"],"sourcesContent":["import axios from 'axios'\nimport history from './history'\nimport { logOutUserOnTokenExpiration } from '../redux/actions/authedActions';\nimport { showNotification } from './showNotification';\n\nlet apiBaseUri = process.env.REACT_APP_API_BASE_URL\n\nconst axiosDefaultInstance = axios.create({\n    baseURL: apiBaseUri,\n    timeout: 10000,\n    headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'application/json'\n    },\n    withCredentials: true\n  });\n\n  axiosDefaultInstance.interceptors.response.use((response) => {\n    \n    return response;\n  }, function (error) {\n    if ( error.response && error.response.status === 403) {\n        const message = 'Token expired';\n        showNotification('danger', message)\n        history.push({\n            pathname: '/login',\n            state: history.location\n        });\n        logOutUserOnTokenExpiration();\n    }\n    return Promise.reject(error);\n  })\n\n\n  export default axiosDefaultInstance;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,2BAA2B,QAAQ,gCAAgC;AAC5E,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD,IAAIC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AAEnD,MAAMC,oBAAoB,GAAGR,KAAK,CAACS,MAAM,CAAC;EACtCC,OAAO,EAAEN,UAAU;EACnBO,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACL,6BAA6B,EAAE,GAAG;IAClC,cAAc,EAAE;EACpB,CAAC;EACDC,eAAe,EAAE;AACnB,CAAC,CAAC;AAEFL,oBAAoB,CAACM,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAED,QAAQ,IAAK;EAE3D,OAAOA,QAAQ;AACjB,CAAC,EAAE,UAAUE,KAAK,EAAE;EAClB,IAAKA,KAAK,CAACF,QAAQ,IAAIE,KAAK,CAACF,QAAQ,CAACG,MAAM,KAAK,GAAG,EAAE;IAClD,MAAMC,OAAO,GAAG,eAAe;IAC/BhB,gBAAgB,CAAC,QAAQ,EAAEgB,OAAO,CAAC;IACnClB,OAAO,CAACmB,IAAI,CAAC;MACTC,QAAQ,EAAE,QAAQ;MAClBC,KAAK,EAAErB,OAAO,CAACsB;IACnB,CAAC,CAAC;IACFrB,2BAA2B,CAAC,CAAC;EACjC;EACA,OAAOsB,OAAO,CAACC,MAAM,CAACR,KAAK,CAAC;AAC9B,CAAC,CAAC;AAGF,eAAeT,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}