{"ast":null,"code":"import axios from '../../utils/axiosConfig';\nimport { showNotification } from '../../utils/showNotification';\nimport { GET_CONSTITUENCY_CANDIDATES, GET_ELECTION_DETAILS, GET_ELECTION_RESULT_DETAILS, GET_VOTE_DETAILS } from \"./types\";\nexport const getElectionDetails = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get(`/election`);\n    return dispatch(handleGetElectionDetails(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getElectionResultsPerParty = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get(`/result`);\n    return dispatch(handleGetElectionResultDetails(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const updateElectionStatus = electionUpdateDTO => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.post('/election', electionUpdateDTO);\n    if (data) {\n      const electionAction = electionUpdateDTO.electionAction;\n      showNotification('success', `Successfully ${electionAction.toLowerCase()}ed election`);\n      dispatch(getElectionDetails());\n      return;\n    }\n  } catch (err) {\n    console.log(err);\n    showNotification('success', `An error occurred while ${electionUpdateDTO === null || electionUpdateDTO === void 0 ? void 0 : electionUpdateDTO.electionAction.toLowerCase()}ing election`);\n  }\n};\nexport const getAllCandidatesGroupedByConstituency = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get('/candidate/all/grouped-by-constituency');\n    return dispatch(handleGetConstituencyCandidates(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport function handleGetConstituencyCandidates(candidatesByConstituency) {\n  return {\n    type: GET_CONSTITUENCY_CANDIDATES,\n    payload: candidatesByConstituency\n  };\n}\nexport function handleGetElectionDetails(electionDetails) {\n  return {\n    type: GET_ELECTION_DETAILS,\n    payload: electionDetails\n  };\n}\nexport function handleGetElectionResultDetails(electionDetails) {\n  return {\n    type: GET_ELECTION_RESULT_DETAILS,\n    payload: electionDetails\n  };\n}","map":{"version":3,"names":["axios","showNotification","GET_CONSTITUENCY_CANDIDATES","GET_ELECTION_DETAILS","GET_ELECTION_RESULT_DETAILS","GET_VOTE_DETAILS","getElectionDetails","dispatch","data","get","handleGetElectionDetails","err","console","log","getElectionResultsPerParty","handleGetElectionResultDetails","updateElectionStatus","electionUpdateDTO","post","electionAction","toLowerCase","getAllCandidatesGroupedByConstituency","handleGetConstituencyCandidates","candidatesByConstituency","type","payload","electionDetails"],"sources":["/Users/oogunboyejo/Documents/uol/project_app/edulearn/client/src/redux/actions/electionActions.js"],"sourcesContent":["import axios from '../../utils/axiosConfig'\nimport { showNotification } from '../../utils/showNotification';\nimport { GET_CONSTITUENCY_CANDIDATES, GET_ELECTION_DETAILS, GET_ELECTION_RESULT_DETAILS, GET_VOTE_DETAILS } from \"./types\";\n\n\n\nexport const getElectionDetails = () => async dispatch => {\n    try {\n        const { data } = await axios.get(`/election`)\n        return dispatch(handleGetElectionDetails(data));\n    } catch (err) {\n        console.log(err)\n    }\n    \n}\n\nexport const getElectionResultsPerParty = () => async dispatch => {\n    try {\n        const { data } = await axios.get(`/result`)\n        return dispatch(handleGetElectionResultDetails(data));\n    } catch (err) {\n        console.log(err)\n    }\n    \n}\n\n\nexport const updateElectionStatus = (electionUpdateDTO) => async dispatch => {\n    try {\n        const { data } = await axios.post('/election', electionUpdateDTO)\n        if (data) {\n            const electionAction = electionUpdateDTO.electionAction;\n            showNotification('success', `Successfully ${electionAction.toLowerCase()}ed election`)\n            dispatch(getElectionDetails())\n            return;\n        }\n    } catch (err) {\n        console.log(err)\n        showNotification('success', `An error occurred while ${electionUpdateDTO?.electionAction.toLowerCase()}ing election`)\n    }\n}\n\n\nexport const getAllCandidatesGroupedByConstituency = () => async dispatch => {\n    try {\n        const { data } = await axios.get('/candidate/all/grouped-by-constituency')\n        return dispatch(handleGetConstituencyCandidates(data));\n    } catch (err) {\n        console.log(err)\n    }\n}\n\nexport function handleGetConstituencyCandidates(candidatesByConstituency) {\n    return {\n        type: GET_CONSTITUENCY_CANDIDATES,\n        payload: candidatesByConstituency\n    }\n}\n\n\nexport function handleGetElectionDetails(electionDetails) {\n    return {\n        type: GET_ELECTION_DETAILS,\n        payload: electionDetails\n    }\n}\n\nexport function handleGetElectionResultDetails(electionDetails) {\n    return {\n        type: GET_ELECTION_RESULT_DETAILS,\n        payload: electionDetails\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,yBAAyB;AAC3C,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,2BAA2B,EAAEC,oBAAoB,EAAEC,2BAA2B,EAAEC,gBAAgB,QAAQ,SAAS;AAI1H,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAM,MAAMC,QAAQ,IAAI;EACtD,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,WAAU,CAAC;IAC7C,OAAOF,QAAQ,CAACG,wBAAwB,CAACF,IAAI,CAAC,CAAC;EACnD,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AAEJ,CAAC;AAED,OAAO,MAAMG,0BAA0B,GAAGA,CAAA,KAAM,MAAMP,QAAQ,IAAI;EAC9D,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,SAAQ,CAAC;IAC3C,OAAOF,QAAQ,CAACQ,8BAA8B,CAACP,IAAI,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AAEJ,CAAC;AAGD,OAAO,MAAMK,oBAAoB,GAAIC,iBAAiB,IAAK,MAAMV,QAAQ,IAAI;EACzE,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACkB,IAAI,CAAC,WAAW,EAAED,iBAAiB,CAAC;IACjE,IAAIT,IAAI,EAAE;MACN,MAAMW,cAAc,GAAGF,iBAAiB,CAACE,cAAc;MACvDlB,gBAAgB,CAAC,SAAS,EAAG,gBAAekB,cAAc,CAACC,WAAW,CAAC,CAAE,aAAY,CAAC;MACtFb,QAAQ,CAACD,kBAAkB,CAAC,CAAC,CAAC;MAC9B;IACJ;EACJ,CAAC,CAAC,OAAOK,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBV,gBAAgB,CAAC,SAAS,EAAG,2BAA0BgB,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEE,cAAc,CAACC,WAAW,CAAC,CAAE,cAAa,CAAC;EACzH;AACJ,CAAC;AAGD,OAAO,MAAMC,qCAAqC,GAAGA,CAAA,KAAM,MAAMd,QAAQ,IAAI;EACzE,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,wCAAwC,CAAC;IAC1E,OAAOF,QAAQ,CAACe,+BAA+B,CAACd,IAAI,CAAC,CAAC;EAC1D,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AACJ,CAAC;AAED,OAAO,SAASW,+BAA+BA,CAACC,wBAAwB,EAAE;EACtE,OAAO;IACHC,IAAI,EAAEtB,2BAA2B;IACjCuB,OAAO,EAAEF;EACb,CAAC;AACL;AAGA,OAAO,SAASb,wBAAwBA,CAACgB,eAAe,EAAE;EACtD,OAAO;IACHF,IAAI,EAAErB,oBAAoB;IAC1BsB,OAAO,EAAEC;EACb,CAAC;AACL;AAEA,OAAO,SAASX,8BAA8BA,CAACW,eAAe,EAAE;EAC5D,OAAO;IACHF,IAAI,EAAEpB,2BAA2B;IACjCqB,OAAO,EAAEC;EACb,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}