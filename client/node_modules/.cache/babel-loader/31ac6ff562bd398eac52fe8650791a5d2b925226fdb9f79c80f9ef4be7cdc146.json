{"ast":null,"code":"import axios from '../../utils/axiosConfig';\nimport { showNotification } from '../../utils/showNotification';\nimport { hideLoading, showLoading } from './shared';\nimport { GET_VOTE_DETAILS } from \"./types\";\nexport const getVoteDetails = voterId => async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get(`/voter/${voterId}`);\n    return dispatch(handleGetVoteDetails(data));\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const voteForCandidate = voteDTO => async dispatch => {\n  try {\n    dispatch(showLoading(true));\n    const {\n      data\n    } = await axios.post(`/voter`, voteDTO);\n    if (data) {\n      showNotification('success', 'Successfully voted for candidate');\n      dispatch(getVoteDetails(voteDTO.voterId));\n    }\n    dispatch(hideLoading());\n  } catch (err) {\n    console.log(err);\n    dispatch(hideLoading());\n    showNotification('danger', 'An error occurred while voting for candidate');\n  }\n};\nexport function handleGetVoteDetails(voteDetails) {\n  return {\n    type: GET_VOTE_DETAILS,\n    payload: voteDetails\n  };\n}","map":{"version":3,"names":["axios","showNotification","hideLoading","showLoading","GET_VOTE_DETAILS","getVoteDetails","voterId","dispatch","data","get","handleGetVoteDetails","err","console","log","voteForCandidate","voteDTO","post","voteDetails","type","payload"],"sources":["/Users/oogunboyejo/Documents/uol/project_app/edulearn/client/src/redux/actions/voteActions.js"],"sourcesContent":["import axios from '../../utils/axiosConfig'\nimport { showNotification } from '../../utils/showNotification';\nimport { hideLoading, showLoading } from './shared';\nimport { GET_VOTE_DETAILS } from \"./types\";\n\n\n\nexport const getVoteDetails = (voterId) => async dispatch => {\n    try {\n        const { data } = await axios.get(`/voter/${voterId}`)\n        return dispatch(handleGetVoteDetails(data));\n    } catch (err) {\n        console.log(err)\n    }\n    \n}\n\nexport const voteForCandidate = (voteDTO) => async dispatch => {\n    try {\n        dispatch(showLoading(true))\n        const { data } = await axios.post(`/voter`, voteDTO)\n        if (data) {\n            showNotification('success', 'Successfully voted for candidate')\n            dispatch(getVoteDetails(voteDTO.voterId));\n        }\n        dispatch(hideLoading())\n    } catch (err) {\n        console.log(err)\n        dispatch(hideLoading())\n        showNotification('danger', 'An error occurred while voting for candidate')\n    }\n    \n}\n\nexport function handleGetVoteDetails(voteDetails) {\n    return {\n        type: GET_VOTE_DETAILS,\n        payload: voteDetails\n    }\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,yBAAyB;AAC3C,SAASC,gBAAgB,QAAQ,8BAA8B;AAC/D,SAASC,WAAW,EAAEC,WAAW,QAAQ,UAAU;AACnD,SAASC,gBAAgB,QAAQ,SAAS;AAI1C,OAAO,MAAMC,cAAc,GAAIC,OAAO,IAAK,MAAMC,QAAQ,IAAI;EACzD,IAAI;IACA,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAE,UAASH,OAAQ,EAAC,CAAC;IACrD,OAAOC,QAAQ,CAACG,oBAAoB,CAACF,IAAI,CAAC,CAAC;EAC/C,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;AAEJ,CAAC;AAED,OAAO,MAAMG,gBAAgB,GAAIC,OAAO,IAAK,MAAMR,QAAQ,IAAI;EAC3D,IAAI;IACAA,QAAQ,CAACJ,WAAW,CAAC,IAAI,CAAC,CAAC;IAC3B,MAAM;MAAEK;IAAK,CAAC,GAAG,MAAMR,KAAK,CAACgB,IAAI,CAAE,QAAO,EAAED,OAAO,CAAC;IACpD,IAAIP,IAAI,EAAE;MACNP,gBAAgB,CAAC,SAAS,EAAE,kCAAkC,CAAC;MAC/DM,QAAQ,CAACF,cAAc,CAACU,OAAO,CAACT,OAAO,CAAC,CAAC;IAC7C;IACAC,QAAQ,CAACL,WAAW,CAAC,CAAC,CAAC;EAC3B,CAAC,CAAC,OAAOS,GAAG,EAAE;IACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBJ,QAAQ,CAACL,WAAW,CAAC,CAAC,CAAC;IACvBD,gBAAgB,CAAC,QAAQ,EAAE,8CAA8C,CAAC;EAC9E;AAEJ,CAAC;AAED,OAAO,SAASS,oBAAoBA,CAACO,WAAW,EAAE;EAC9C,OAAO;IACHC,IAAI,EAAEd,gBAAgB;IACtBe,OAAO,EAAEF;EACb,CAAC;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}